# 4章 ブロック

ブロックはスコープの制御に効果を発する。

ブロックは`Proc`や`lambda`と同様に「呼び出し可能オブジェクト」の一つ。

## ブロックはクロージャ

`test_4-3.rb`を参照

## スコープゲート

スコープが切り替わる場所は3つある。
- class
- module
- def

`test_4-3-3.rb`を参照

スコープゲートをメソッド呼び出しに置き換えると他のスコープの変数が見えるようになる。

入れ子構造のレキシカルスコープという

フラットスコープともいう。

## 4.4 instance_eval

`test_4-4`を参照

兄弟メソッドにinstance_execがいて、こちらは引数を渡すことができる。

ブロックを評価するためだけのオブジェクトを`クリーンルーム`という。

## 呼び出し可能オブジェクト
- Proc
- lambda
- メソッドの中

rubyではほぼすべてがオブジェクトだが、ブロックは違う

## Procとlambdaのreturn

`test_4-5-2.rb`を参照。

lambdaはlambdaから戻るという(割と直感的な)機能だが、Procの場合はProcが定義されたスコープから戻るので注意が必要。

## Methodオブジェクト

`test_4-5-3.rb`を参照。


